{
    "name": "sawdustandcoffee/sawdust-coffee",
    "description": "Sawdust & Coffee E-commerce Platform",
    "type": "project",
    "require": {},
    "scripts": {
        "deploy-backend": [
            "composer install --no-dev --no-interaction --optimize-autoloader --working-dir=backend",
            "php backend/artisan migrate --force",
            "php backend/artisan config:cache",
            "php backend/artisan route:cache",
            "php backend/artisan view:cache"
        ],
        "deploy-frontend": [
            "cd frontend && npm ci --production && npm run build && cd ..",
            "cp -r frontend/dist/* backend/public/"
        ],
        "post-install-cmd": [
            "@php -r \"echo '=== Hostinger Deployment Started ===' . PHP_EOL;\"",
            "@deploy-backend",
            "@deploy-frontend",
            "@php -r \"echo '=== Deployment Complete ===' . PHP_EOL;\""
        ],
        "post-update-cmd": [
            "@post-install-cmd"
        ]
    }
}
